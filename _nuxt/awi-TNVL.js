import{k as P,a as W,I as G,J as T,K as H,L as w,M as J,r as $,s as F,N as X,O as Q,P as Y,Q as V,R as Z,S as k,T as K,G as tt,U as et,V as N,W as at,X as st,x as rt,z as v,Y as j,Z as z,y as nt}from"./VEDP3P1x.js";function ot(r){return typeof r=="string"?`'${r}'`:new it().serialize(r)}const it=(function(){class r{#t=new Map;compare(t,e){const s=typeof t,i=typeof e;return s==="string"&&i==="string"?t.localeCompare(e):s==="number"&&i==="number"?t-e:String.prototype.localeCompare.call(this.serialize(t,!0),this.serialize(e,!0))}serialize(t,e){if(t===null)return"null";switch(typeof t){case"string":return e?t:`'${t}'`;case"bigint":return`${t}n`;case"object":return this.$object(t);case"function":return this.$function(t)}return String(t)}serializeObject(t){const e=Object.prototype.toString.call(t);if(e!=="[object Object]")return this.serializeBuiltInType(e.length<10?`unknown:${e}`:e.slice(8,-1),t);const s=t.constructor,i=s===Object||s===void 0?"":s.name;if(i!==""&&globalThis[i]===s)return this.serializeBuiltInType(i,t);if(typeof t.toJSON=="function"){const n=t.toJSON();return i+(n!==null&&typeof n=="object"?this.$object(n):`(${this.serialize(n)})`)}return this.serializeObjectEntries(i,Object.entries(t))}serializeBuiltInType(t,e){const s=this["$"+t];if(s)return s.call(this,e);if(typeof e?.entries=="function")return this.serializeObjectEntries(t,e.entries());throw new Error(`Cannot serialize ${t}`)}serializeObjectEntries(t,e){const s=Array.from(e).sort((n,o)=>this.compare(n[0],o[0]));let i=`${t}{`;for(let n=0;n<s.length;n++){const[o,u]=s[n];i+=`${this.serialize(o,!0)}:${this.serialize(u)}`,n<s.length-1&&(i+=",")}return i+"}"}$object(t){let e=this.#t.get(t);return e===void 0&&(this.#t.set(t,`#${this.#t.size}`),e=this.serializeObject(t),this.#t.set(t,e)),e}$function(t){const e=Function.prototype.toString.call(t);return e.slice(-15)==="[native code] }"?`${t.name||""}()[native]`:`${t.name}(${t.length})${e.replace(/\s*\n\s*/g,"")}`}$Array(t){let e="[";for(let s=0;s<t.length;s++)e+=this.serialize(t[s]),s<t.length-1&&(e+=",");return e+"]"}$Date(t){try{return`Date(${t.toISOString()})`}catch{return"Date(null)"}}$ArrayBuffer(t){return`ArrayBuffer[${new Uint8Array(t).join(",")}]`}$Set(t){return`Set${this.$Array(Array.from(t).sort((e,s)=>this.compare(e,s)))}`}$Map(t){return this.serializeObjectEntries("Map",t.entries())}}for(const a of["Error","RegExp","URL"])r.prototype["$"+a]=function(t){return`${a}(${t})`};for(const a of["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"])r.prototype["$"+a]=function(t){return`${a}[${t.join(",")}]`};for(const a of["BigInt64Array","BigUint64Array"])r.prototype["$"+a]=function(t){return`${a}[${t.join("n,")}${t.length>0?"n":""}]`};return r})(),lt=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],ct=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],ut="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",C=[];class dt{_data=new S;_hash=new S([...lt]);_nDataBytes=0;_minBufferSize=0;finalize(a){a&&this._append(a);const t=this._nDataBytes*8,e=this._data.sigBytes*8;return this._data.words[e>>>5]|=128<<24-e%32,this._data.words[(e+64>>>9<<4)+14]=Math.floor(t/4294967296),this._data.words[(e+64>>>9<<4)+15]=t,this._data.sigBytes=this._data.words.length*4,this._process(),this._hash}_doProcessBlock(a,t){const e=this._hash.words;let s=e[0],i=e[1],n=e[2],o=e[3],u=e[4],c=e[5],l=e[6],h=e[7];for(let f=0;f<64;f++){if(f<16)C[f]=a[t+f]|0;else{const b=C[f-15],p=(b<<25|b>>>7)^(b<<14|b>>>18)^b>>>3,d=C[f-2],E=(d<<15|d>>>17)^(d<<13|d>>>19)^d>>>10;C[f]=p+C[f-7]+E+C[f-16]}const D=u&c^~u&l,y=s&i^s&n^i&n,m=(s<<30|s>>>2)^(s<<19|s>>>13)^(s<<10|s>>>22),B=(u<<26|u>>>6)^(u<<21|u>>>11)^(u<<7|u>>>25),_=h+B+D+ct[f]+C[f],g=m+y;h=l,l=c,c=u,u=o+_|0,o=n,n=i,i=s,s=_+g|0}e[0]=e[0]+s|0,e[1]=e[1]+i|0,e[2]=e[2]+n|0,e[3]=e[3]+o|0,e[4]=e[4]+u|0,e[5]=e[5]+c|0,e[6]=e[6]+l|0,e[7]=e[7]+h|0}_append(a){typeof a=="string"&&(a=S.fromUtf8(a)),this._data.concat(a),this._nDataBytes+=a.sigBytes}_process(a){let t,e=this._data.sigBytes/64;a?e=Math.ceil(e):e=Math.max((e|0)-this._minBufferSize,0);const s=e*16,i=Math.min(s*4,this._data.sigBytes);if(s){for(let n=0;n<s;n+=16)this._doProcessBlock(this._data.words,n);t=this._data.words.splice(0,s),this._data.sigBytes-=i}return new S(t,i)}}class S{words;sigBytes;constructor(a,t){a=this.words=a||[],this.sigBytes=t===void 0?a.length*4:t}static fromUtf8(a){const t=unescape(encodeURIComponent(a)),e=t.length,s=[];for(let i=0;i<e;i++)s[i>>>2]|=(t.charCodeAt(i)&255)<<24-i%4*8;return new S(s,e)}toBase64(){const a=[];for(let t=0;t<this.sigBytes;t+=3){const e=this.words[t>>>2]>>>24-t%4*8&255,s=this.words[t+1>>>2]>>>24-(t+1)%4*8&255,i=this.words[t+2>>>2]>>>24-(t+2)%4*8&255,n=e<<16|s<<8|i;for(let o=0;o<4&&t*8+o*6<this.sigBytes*8;o++)a.push(ut.charAt(n>>>6*(3-o)&63))}return a.join("")}concat(a){if(this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4),this.sigBytes%4)for(let t=0;t<a.sigBytes;t++){const e=a.words[t>>>2]>>>24-t%4*8&255;this.words[this.sigBytes+t>>>2]|=e<<24-(this.sigBytes+t)%4*8}else for(let t=0;t<a.sigBytes;t+=4)this.words[this.sigBytes+t>>>2]=a.words[t>>>2];this.sigBytes+=a.sigBytes}}function ft(r){return new dt().finalize(r).toBase64()}function O(r){return ft(ot(r))}const ht={trailing:!0};function yt(r,a=25,t={}){if(t={...ht,...t},!Number.isFinite(a))throw new TypeError("Expected `wait` to be a finite number");let e,s,i=[],n,o;const u=(h,f)=>(n=pt(r,h,f),n.finally(()=>{if(n=null,t.trailing&&o&&!s){const D=u(h,o);return o=null,D}}),n),c=function(...h){return t.trailing&&(o=h),n||new Promise(f=>{const D=!s&&t.leading;clearTimeout(s),s=setTimeout(()=>{s=null;const y=t.leading?e:u(this,h);o=null;for(const m of i)m(y);i=[]},a),D?(e=u(this,h),f(e)):i.push(f)})},l=h=>{h&&(clearTimeout(h),s=null)};return c.isPending=()=>!!s,c.cancel=()=>{l(s),i=[],o=null},c.flush=()=>{if(l(s),!o||n)return;const h=o;return o=null,u(this,h)},c}async function pt(r,a,t){return await r.apply(a,t)}const mt=Symbol.for("nuxt:client-only");function vt(...r){const a=typeof r[r.length-1]=="string"?r.pop():void 0;_t(r[0],r[1])&&r.unshift(a);let[t,e,s={}]=r,i=!1;const n=P(()=>w(t));if(typeof n.value!="string")throw new TypeError("[nuxt] [useAsyncData] key must be a string.");if(typeof e!="function")throw new TypeError("[nuxt] [useAsyncData] handler must be a function.");const o=W();s.server??=!0,s.default??=bt,s.getCachedData??=q,s.lazy??=!1,s.immediate??=!0,s.deep??=G.deep,s.dedupe??="cancel",s._functionName,o._asyncData[n.value];function u(){const y={cause:"initial",dedupe:s.dedupe};return o._asyncData[n.value]?._init||(y.cachedData=s.getCachedData(n.value,o,{cause:"initial"}),o._asyncData[n.value]=L(o,n.value,e,s,y.cachedData)),()=>o._asyncData[n.value].execute(y)}const c=u(),l=o._asyncData[n.value];l._deps++;const h=s.server!==!1&&o.payload.serverRendered;{let y=function(p){const d=o._asyncData[p];d?._deps&&(d._deps--,d._deps===0&&d?._off())};const m=Z();if(m&&h&&s.immediate&&!m.sp&&(m.sp=[]),m&&!m._nuxtOnBeforeMountCbs){m._nuxtOnBeforeMountCbs=[];const p=m._nuxtOnBeforeMountCbs;k(()=>{p.forEach(d=>{d()}),p.splice(0,p.length)}),K(()=>p.splice(0,p.length))}const B=m&&(m._nuxtClientOnly||tt(mt,!1));h&&o.isHydrating&&(l.error.value||l.data.value!==void 0)?l.status.value=l.error.value?"error":"success":m&&(!B&&o.payload.serverRendered&&o.isHydrating||s.lazy)&&s.immediate?m._nuxtOnBeforeMountCbs.push(c):s.immediate&&l.status.value!=="success"&&c();const _=J(),g=T(n,(p,d)=>{if((p||d)&&p!==d){i=!0;const E=o._asyncData[d]?.data.value!==void 0,M=o._asyncDataPromises[d]!==void 0,R={cause:"initial",dedupe:s.dedupe};if(!o._asyncData[p]?._init){let A;d&&E?A=o._asyncData[d].data.value:(A=s.getCachedData(p,o,{cause:"initial"}),R.cachedData=A),o._asyncData[p]=L(o,p,e,s,A)}o._asyncData[p]._deps++,d&&y(d),(s.immediate||E||M)&&o._asyncData[p].execute(R),et(()=>{i=!1})}},{flush:"sync"}),b=s.watch?T(s.watch,()=>{i||o._asyncData[n.value]?._execute({cause:"watch",dedupe:s.dedupe})}):()=>{};_&&H(()=>{g(),b(),y(n.value)})}const f={data:U(()=>o._asyncData[n.value]?.data),pending:U(()=>o._asyncData[n.value]?.pending),status:U(()=>o._asyncData[n.value]?.status),error:U(()=>o._asyncData[n.value]?.error),refresh:(...y)=>o._asyncData[n.value]?._init?o._asyncData[n.value].execute(...y):u()(),execute:(...y)=>f.refresh(...y),clear:()=>{const y=o._asyncData[n.value];if(y?._abortController)try{y._abortController.abort(new DOMException("AsyncData aborted by user.","AbortError"))}finally{y._abortController=void 0}x(o,n.value)}},D=Promise.resolve(o._asyncDataPromises[n.value]).then(()=>f);return Object.assign(D,f),D}function U(r){return P({get(){return r()?.value},set(a){const t=r();t&&(t.value=a)}})}function _t(r,a){return!(typeof r=="string"||typeof r=="object"&&r!==null||typeof r=="function"&&typeof a=="function")}function x(r,a){a in r.payload.data&&(r.payload.data[a]=void 0),a in r.payload._errors&&(r.payload._errors[a]=void 0),r._asyncData[a]&&(r._asyncData[a].data.value=V(r._asyncData[a]._default()),r._asyncData[a].error.value=void 0,r._asyncData[a].status.value="idle"),a in r._asyncDataPromises&&(r._asyncDataPromises[a]=void 0)}function gt(r,a){const t={};for(const e of a)t[e]=r[e];return t}function L(r,a,t,e,s){r.payload._errors[a]??=void 0;const i=e.getCachedData!==q,n=t,o=e.deep?$:F,u=s!==void 0,c=r.hook("app:data:refresh",async h=>{(!h||h.includes(a))&&await l.execute({cause:"refresh:hook"})}),l={data:o(u?s:e.default()),pending:P(()=>l.status.value==="pending"),error:X(r.payload._errors,a),status:F("idle"),execute:(...h)=>{const[f,D=void 0]=h,y=f&&D===void 0&&typeof f=="object"?f:{};if(r._asyncDataPromises[a]&&(y.dedupe??e.dedupe)==="defer")return r._asyncDataPromises[a];{const _="cachedData"in y?y.cachedData:e.getCachedData(a,r,{cause:y.cause??"refresh:manual"});if(_!==void 0)return r.payload.data[a]=l.data.value=_,l.error.value=void 0,l.status.value="success",Promise.resolve(_)}l._abortController&&l._abortController.abort(new DOMException("AsyncData request cancelled by deduplication","AbortError")),l._abortController=new AbortController,l.status.value="pending";const m=new AbortController,B=new Promise((_,g)=>{try{const b=y.timeout??e.timeout,p=Dt([l._abortController?.signal,y?.signal],m.signal,b);if(p.aborted){const d=p.reason;g(d instanceof Error?d:new DOMException(String(d??"Aborted"),"AbortError"));return}return p.addEventListener("abort",()=>{const d=p.reason;g(d instanceof Error?d:new DOMException(String(d??"Aborted"),"AbortError"))},{once:!0,signal:m.signal}),Promise.resolve(n(r,{signal:p})).then(_,g)}catch(b){g(b)}}).then(async _=>{let g=_;e.transform&&(g=await e.transform(_)),e.pick&&(g=gt(g,e.pick)),r.payload.data[a]=g,l.data.value=g,l.error.value=void 0,l.status.value="success"}).catch(_=>{if(r._asyncDataPromises[a]&&r._asyncDataPromises[a]!==B||l._abortController?.signal.aborted)return r._asyncDataPromises[a];if(typeof DOMException<"u"&&_ instanceof DOMException&&_.name==="AbortError")return l.status.value="idle",r._asyncDataPromises[a];l.error.value=Y(_),l.data.value=V(e.default()),l.status.value="error"}).finally(()=>{m.abort(),delete r._asyncDataPromises[a]});return r._asyncDataPromises[a]=B,r._asyncDataPromises[a]},_execute:yt((...h)=>l.execute(...h),0,{leading:!0}),_default:e.default,_deps:0,_init:!0,_hash:void 0,_off:()=>{c(),r._asyncData[a]?._init&&(r._asyncData[a]._init=!1),i||Q(()=>{r._asyncData[a]?._init||(x(r,a),l.execute=()=>Promise.resolve())})}};return l}const bt=()=>{},q=(r,a,t)=>{if(a.isHydrating)return a.payload.data[r];if(t.cause!=="refresh:manual"&&t.cause!=="refresh:hook")return a.static.data[r]};function Dt(r,a,t){const e=r.filter(n=>!!n);if(typeof t=="number"&&t>=0){const n=AbortSignal.timeout?.(t);n&&e.push(n)}if(AbortSignal.any)return AbortSignal.any(e);const s=new AbortController;for(const n of e)if(n.aborted){const o=n.reason??new DOMException("Aborted","AbortError");try{s.abort(o)}catch{s.abort()}return s.signal}const i=()=>{const o=e.find(u=>u.aborted)?.reason??new DOMException("Aborted","AbortError");try{s.abort(o)}catch{s.abort()}};for(const n of e)n.addEventListener?.("abort",i,{once:!0,signal:a});return s.signal}function I(r,a,t){const[e={},s]=typeof a=="string"?[{},a]:[a,t],i=P(()=>w(r)),n=P(()=>w(e.key)||"$f"+O([s,typeof i.value=="string"?i.value:"",...wt(e)]));if(!e.baseURL&&typeof i.value=="string"&&i.value[0]==="/"&&i.value[1]==="/")throw new Error('[nuxt] [useFetch] the request URL must not start with "//".');const{server:o,lazy:u,default:c,transform:l,pick:h,watch:f,immediate:D,getCachedData:y,deep:m,dedupe:B,timeout:_,...g}=e,b=N({...at,...g,cache:typeof e.cache=="boolean"?void 0:e.cache}),p={server:o,lazy:u,default:c,transform:l,pick:h,immediate:D,getCachedData:y,deep:m,dedupe:B,timeout:_,watch:f===!1?[]:[...f||[],b]};return vt(f===!1?n.value:n,(E,{signal:M})=>(e.$fetch||globalThis.$fetch)(i.value,{signal:M,...b}),p)}function wt(r){const a=[w(r.method)?.toUpperCase()||"GET",w(r.baseURL)];for(const t of[r.query||r.params]){const e=w(t);if(!e)continue;const s={};for(const[i,n]of Object.entries(e))s[w(i)]=w(n);a.push(s)}if(r.body){const t=w(r.body);if(!t)a.push(O(t));else if(t instanceof ArrayBuffer)a.push(O(Object.fromEntries([...new Uint8Array(t).entries()].map(([e,s])=>[e,s.toString()]))));else if(t instanceof FormData){const e={};for(const s of t.entries()){const[i,n]=s;e[i]=n instanceof File?n.name:n}a.push(O(e))}else if(st(t))a.push(O(N(t)));else try{a.push(O(t))}catch{console.warn("[useFetch] Failed to hash body",t)}}return a}const Bt={id:"app-wrapper"},Ct={class:"part-wrapper"},$t={class:"form"},Ot={class:"form-layout"},St={class:"form-layout"},Et={class:"form-layout"},Pt={class:"form-layout"},At={class:"button-wrapper"},jt=["disabled"],zt=["disabled"],Mt={__name:"index",setup(r){const a=$(39541),t=$(39542),e=$(39539),s=$("127.0.0.1"),i=$(!1),n=async()=>{const{data:u}=await I("/api/vmcmixer",{method:"POST",body:{use2ndData:["Chest","UpperChest","LeftShoulder","LeftUpperArm","LeftLowerArm","RightShoulder","RightUpperArm","RightLowerArm"],port1:a.value,port2:t.value,sendIp:s.value,sendPort:e.value}},"$orW8SXrfeA");u.value?.success&&(i.value=!0)},o=async()=>{const{data:u}=await I("/api/vmcstop",{method:"POST"},"$Esc5XvxuRO");u.value?.success&&(i.value=!1)};return(u,c)=>(nt(),rt("div",Bt,[v("div",Ct,[c[8]||(c[8]=v("h2",null,"VMC 신호 믹서",-1)),c[9]||(c[9]=v("div",{class:"description"},[v("p",null,"웹캠 기반 VMC 신호와 트래커 기반 VMC 신호를 믹스해주는 프로그램입니다.")],-1)),v("div",$t,[v("div",Ot,[c[4]||(c[4]=v("div",{class:"form-title"},"웹캠 포트",-1)),j(v("input",{"onUpdate:modelValue":c[0]||(c[0]=l=>a.value=l),type:"number",placeholder:"기본 신호를 받아올 포트 입력"},null,512),[[z,a.value]])]),v("div",St,[c[5]||(c[5]=v("div",{class:"form-title"},"트래커 포트",-1)),j(v("input",{"onUpdate:modelValue":c[1]||(c[1]=l=>t.value=l),type:"number",placeholder:"트래커 신호를 받아올 포트 입력"},null,512),[[z,t.value]])]),v("div",Et,[c[6]||(c[6]=v("div",{class:"form-title"},"전송할 아이피",-1)),j(v("input",{"onUpdate:modelValue":c[2]||(c[2]=l=>s.value=l),placeholder:"목적지의 아이피 입력"},null,512),[[z,s.value]])]),v("div",Pt,[c[7]||(c[7]=v("div",{class:"form-title"},"전송할 포트",-1)),j(v("input",{"onUpdate:modelValue":c[3]||(c[3]=l=>e.value=l),type:"number",placeholder:"최종 신호를 전송할 포트 입력"},null,512),[[z,e.value]])])]),c[10]||(c[10]=v("div",{class:"description"},[v("p",null,"현재 트래커에서 받아오는 신호: 'chest', 'upperChest', 'leftShoulder', 'leftUpperArm', 'leftLowerArm', 'rightShoulder', 'rightUpperArm', 'rightLowerArm' 입니다.")],-1)),v("div",At,[v("button",{id:"startbt",onClick:n,disabled:i.value},"신호 합치기!",8,jt),v("button",{id:"stopbt",onClick:o,disabled:!i.value},"포트 닫기",8,zt)])])]))}};export{Mt as default};
